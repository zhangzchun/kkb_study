<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>temp v-model</title>
</head>
<body>

<div id="app">

    <!-- 条件渲染 -->
    <course-list :courses="courses"></course-list>

    <p>
        <!-- 绑定表达式 -->
        <!-- 课程总数：{{courses.length + '门'}} -->
        <!-- 计算属性 --> <!-- 课程总数：{{total}} -->
        <!-- 监听器 -->
        课程总数：{{totalCount}}
    </p>

</div>

<script src="vue.js"></script>
<script>
    function getCourses() {
        return new Promise(resolve => {
            setTimeout(() => {
                resolve(['web全栈', 'web高级'])
            }, 2000);
        })
    }

    Vue.component('course-list',{

    });

    const app = new Vue({
        el:'#app',
        data () {
            return {
                title:'购物车',
                courses:[],
                totalCount:0
            }
        },
        async created () {
            const courses = await getCourses();
            this.courses = courses
        },
        methods :{
            // 回调函数接收事件参数
            addCourse(course) {
                this.courses.push(course);
            }
        },
        computed :{
            total() {
                return this.courses.length + '门';
            }
        },
        watch: {
            courses: {
                immediate: true,
                // deep: true,
                handler(newValue, oldValue) {
                    this.totalCount = newValue.length + '门';
                }
            }
        }
    })
</script>
</body>
</html>